@use 'mixins';

.list-style-table {
	flex-flow: column nowrap;
	box-shadow: 0 0 0 1px mixins.whiteTrans(.1);
	border-radius: 20px 20px 0 0;

	.card-list-headers {
		display: flex;
		width: 100%;
		flex-flow: column nowrap;
		font-size: .8rem;
		font-weight: 300;
		border-radius: 20px 20px 0 0;
		overflow: hidden;

		.clh-header-row {
			width: 100%;
			display: flex;
			flex-flow: row nowrap;
			margin-top: 1px;
		}

		.clh-header-row.sides {
			.clh-side {
				grid-template-columns: 1fr;
				height: 32px;
				background: var(--app-primary-background);
				font-weight: 400;
				opacity: .7;
			}
		}

		.clh-side {
			display: grid;
			flex-flow: row nowrap;
			height: 100%;
			@include mixins.center();
			width: 50%;
			grid-template-columns: 1fr 2fr 1fr;
			grid-column-gap: 1px;
			margin-right: 1px;

			&:nth-of-type(2) {
				margin-right: 0;
			}

			span {
				display: flex;
				flex-flow: row nowrap;
				background: var(--app-primary-background);
				width: 100%;
				height: 32px;
				@include mixins.center();
			}
		}
	}

	.card-item {
		width: 100%;
		min-height: 40px;
		display: flex;
		flex-flow: row nowrap;
		border-radius: 0;
		padding: 0;
		margin: 0 0 1px 0;
		background: none;
		opacity: .9;

		&:hover, &:focus, &:focus-within {
			opacity: 1;
			z-index: 2;

			.card-sides {
				.card-side-content {
					box-shadow: none;
				}
			}
		}
	}

	.card-sides {
		display: flex;
		max-width: unset;
		min-height: unset;
		height: auto;
		padding: 0;
		margin: 0;
		flex-flow: row nowrap;
		width: 100%;
		border-radius: 0;
		background: none;

		.card-side-content {
			width: 50%;
			max-width: unset;
			border-radius: 0;
			padding: 0;
			margin: 0;
			height: auto;
			display: grid;
			grid-template-columns: 1fr 2fr 1fr;
			grid-column-gap: 1px;
			background: none;
			box-shadow: none;

			.card-header, .card-text, .card-footer {
				padding: 2px 0;
				margin: 0;
				height: 100%;
				border: none;
				background: none;
				border-radius: 0;
				border-right: 1px solid mixins.blackTrans();
				text-overflow: fade;
			}

			&:nth-of-type(2) {
				.card-footer {
					border: none;
				}
			}
		}

		.card-actions {
			width: 32px;
			height: 32px;
			top: 50%;
			right: 8px;
			transform: translateY(-50%);
		}
	}

	.card-index {
		left: 0;
		top: 50%;
		bottom: unset;
		right: unset;
		transform: translateX(-100%) translateY(-50%);
		padding-right: 8px;
	}
}

@mixin narrowTable {
	.card-list-headers {
		.clh-header-row {
			display: none;
		}

		.clh-header-row.sides {
			display: flex;
		}

		.clh-side {
			grid-template-columns: 1fr !important;

			span {
				&:nth-of-type(1), &:nth-of-type(3) {
					display: none;
					visibility: collapse;
				}
			}
		}
	}

	.card-side-content {
		grid-template-columns: 1fr !important;

		.card-text {
			border: none;
		}

		.card-header, .card-footer {
			display: none;
		}
	}
}


.list-style-table.table-narrow {
	@include narrowTable();
}

@media screen and (max-width: 800px) {
	.list-style-table {
		@include narrowTable();
	}
}
